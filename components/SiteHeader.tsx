'use client'
import Link from 'next/link'; import { Menu, X } from 'lucide-react'; import { useEffect, useState } from 'react'; import { useScrollSpy } from './ScrollSpyProvider'; import { cn } from '@/lib/utils'
export function SiteHeader(){ const { activeId } = useScrollSpy(); const [open,setOpen]=useState(false); const [opaque,setOpaque]=useState(false); useEffect(()=>{ const onScroll=()=>setOpaque(window.scrollY>4); onScroll(); window.addEventListener('scroll', onScroll, {passive:true}); return ()=>window.removeEventListener('scroll', onScroll)},[]); const items=[{id:'home',label:'Home'},{id:'services',label:'Services'},{id:'about',label:'About Us'},{id:'contact',label:'Contact'}]; return (<header className={cn('sticky top-0 z-50 border-b border-white/10 backdrop-blur', opaque?'bg-black/50':'bg-transparent')} role="banner"><div className="container mx-auto flex h-16 items-center justify-between"><Link href="#home" className="font-semibold flex items-center gap-3"><span className="inline-flex h-8 w-8 items-center justify-center rounded-xl bg-[var(--brand)] text-black">Î¼</span><span>Mugen Systems</span></Link><nav aria-label="Primary" className="hidden md:block"><ul className="flex items-center gap-6">{items.map(i=>(<li key={i.id}><a href={'#'+i.id} className={cn('px-2 py-1 rounded-xl text-sm hover:opacity-90', activeId===i.id?'text-[var(--accent)]':'text-white/80')} aria-current={activeId===i.id?'page':undefined}>{i.label}</a></li>))}</ul></nav><button aria-label="Toggle menu" aria-expanded={open} onClick={()=>setOpen(v=>!v)} className="md:hidden p-2 rounded-xl focus-ring">{open?<X className="h-6 w-6"/>:<Menu className="h-6 w-6"/>}</button></div>{open && (<div className="md:hidden border-t border-white/10"><ul className="p-4 flex flex-col gap-2">{items.map(i=>(<li key={i.id}><a href={'#'+i.id} onClick={()=>setOpen(false)} className="block py-2">{i.label}</a></li>))}</ul></div>)}</header>) }
